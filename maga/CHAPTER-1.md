# Глава 1. Основы и мотивация для создания открытой доверенной операционной системы для СнК на архитектуре RISC-V

 ## 1.1 Основы и мотивация

  ### 1.1.1 Общие сведения о доверенных средах выполнения

   #### 1.1.1.1 Введение в доверенные среды выполнения

   Практически все современные вычислительные устройства,
   начиная от смартфонов и ПК, до автомобилей и серверных систем,
   используют несколько операционных систем
   одновременно на одном процессоре.
   Такие вычислительные среды обычно состоит из
   обычной среды исполнения,
   в которой работают основная операционная система
   и пользовательские приложения,
   и отдельной безопасной среды выполнения,
   предназначенной для защиты конфиденциальных данных и кода.
   Основная цель такого разделения - обеспечить аппаратную изоляцию,
   позволяющую безопасно выполнять конфиденциальные вычисления, такие как
   криптография, управление цифровыми правами (DRM) или обработка платежей
   без возможности вмешательства внешних компонентов системы
   или потенциальных злоумышленников.

   При такой конфигурации с двумя средами
   обычная операционная система управляет повседневными задачами,
   в то время как конфиденциальные операции
   выполняются в защищенной среде.
   Такое разделение имеет решающее значение
   для обеспечения безопасности и целостности
   конфиденциальных данных и операций.
   Обычный мир (или Нормальный мир),
   в котором работает основная операционная система,
   обычно считается ненадежным по сравнению с защищенным миром,
   который спроектирован так,
   чтобы быть безопасным и изолированным.

   Концепция доверенных сред исполнения (TEE)
   стала важнейшим компонентом современных архитектур.
   TEE обеспечивают безопасную среду
   для выполнения конфиденциального кода и
   обработки конфиденциальных данных,
   изолированную от обычной среды выполнения.
   Эта изоляция обеспечивается аппаратными механизмами,
   гарантирующими, что даже в случае полной компроментации
   основной операционной системы или приложений
   в нормальном мире - безопасность конфиденциальных данных
   в защищенном мире остается неизменной.

   Таким образом, доверенные среды исполнения
   являются фундаментальным компонентом
   современных вычислительных сред.
   Обеспечение необходимой изоляции
   и защита конфиденциальных данных и кодв
   делает их незаменимыми в современных реалиях.

   #### 1.1.1.2 Эволюция доверенных сред исполнения

   С момента появления - доверенные среды исполнения
   претерпели значительные изменения,
   обусловленные необходимостью безопасного выполнения кода
   и конфиденциальности данных в современных вычислительных системах.
   Концепция TEE возникла как ответ на растущий спрос на безопасные среды, способные защитить от различных типов атак и угроз.

   Самыми ранними формами TEE были
   специализированные защищенные сопроцессоры
   или специальные аппаратные модули,
   такие как смарт-карты и доверенные платформенные модули (TPMS).
   Эти ранние реализации были разработаны
   для обеспечения безопасной среды для
   выполнения конкретных задач,
   таких как криптографические операции
   и безопасная аутентификация.
   Как правило, они были изолированы от основного процессора
   и обладали собственными защищенными возможностями
   хранения и обработки данных.

   По сравнению со старыми версиями TEE,
   современные TEE стали более интегрированными
   с основным процессором и операционной системой.
   Нынешние Доверенные Системы Исполнения предлагают
   более продвинутые функции безопасности,
   такие как шифрование памяти,
   безопасная загрузка и механизмы проверки подлинности.
   Современные TEE также обеспечивают более гибкую и программируемую среду,
   позволяющую выполнять сложные приложения и сервисы.

   Эволюция TEE позволила получить представление
   о разработке и внедрении Доверенных Сред Исполнения.
   Ожидается, что будущие разработки TEE будут направлены на устранение
   все новых возникающих угроз и вызовов.
   Кроме того, TEE, вероятно, станут еще более интегрированными
   с основными вычислительными системами,
   что позволит более эффективно и безопасно выполнять
   доверенный код и сохранять конфиденциальность данных.

   #### 1.1.1.3 Роль доверенных сред исполнения в современных архитектурах безопасности

   Доверенные среды выполнения играют решающую роль в
   современных архитектурах безопасности,
   обеспечивая безопасную среду для
   выполнения доверенного кода и
   обработки конфиденциальных данных.
   Современные TEE, такие как
   ARM TrustZone и Intel SGX,
   обеспечивают аппаратную изоляцию основного процессора.
   Такая изоляция позволяет выполнять
   сложные доверенные приложения в сочетании
   с богатой функционалом универсальной операционной системой.

   Возможности современных TEE
   выходят за рамки простых криптографических задач.
   Они поддерживают широкий спектр сложных приложений,
   включая защищенный пользовательский интерфейс,
   сертификацию, аттестацию
   и доверенные вычисления в облачных инфрастуктурах.

   Несмотря на их популярность и значительные преимущества,
   которые предлагают доверенные системы исполнения,
   спрос на TEE с прозрачными интерфейсами и
   открытым исходным кодом остается.
   Основными причинами этого спроса являются
   стремление преодолеть зависимость от поставщиков
   и повысить безопасность с помощью тщательных проверок.
   TEE с открытым исходным кодом могут быть
   тщательно изучены более широким кругом участников сообщества,
   что потенциально может привести к
   более безопасной реализации,
   поскольку уязвимости могут быть
   выявлены и устранены более эффективно.

   Более того, поскольку вычислительные среды становятся
   все более разнородными и многоядерными,
   растет потребность в TEE,
   которые могут эффективно поддерживать такие архитектуры.
   Способность управлять разнообразными вычислительными
   ресурсами и обеспечивать их безопасность
   становится необходимым условием
   для поддержания общего уровня безопасности
   современных систем.

  ### 1.1.2. Текущее состояние ДСИ в проприетарных архитектурах

   #### 1.1.2.1. Ограничения существующих ДСИ в проприетарных архитектурах

   Существующие доверенные среды выполнения
   в проприетарных архитектурах
   страдают от ряда ограничений,
   которые препятствуют их широкому внедрению
   и эффективности в современных вычислительных экосистемах.

   Одним из основных ограничений является привязка к поставщику,
   которая возникает при использовании пропиретарных интерфейсов.
   Такие ДСИ тесно связаны с
   определенными аппаратными и программными экосистемами,
   что затрудняет перенос приложений разработчиками
   на разные платформы.
   Такая привязка не только ограничивает гибкость разработчиков,
   но и увеличивает зависимость от
   поставщика обновлений для системы безопасности,
   исправлений ошибок и улучшения функционала.
   В результате стоимость разработки и обслуживания возрастает,
   а инновации сдерживаются из-за ограничений,
   налагаемых патентным характером этих приложений.

   Проприетарные приложения работают в закрытых экосистемах,
   которые недоступны для открытого изучения,
   модификации или расширения более широким сообществом разработчиков.
   Таким образом, ограничения существующих TEE
   в проприетарных архитектурах,
   существенно снижают их гибкость,
   безопасность и общую эффективность.
   Эти проблемы подчеркивают необходимость
   в открытых и гибких решениях TEE,
   которые могут быть адаптированы,
   тщательно изучены и усовершенствованы
   сообществом разработчиков и исследователей.